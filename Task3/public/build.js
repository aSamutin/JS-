var authorization=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(){var e=document.querySelector("input[name = 'username']"),t=a(e.value);if(t.login){switch(t.role){case d[2]:openCreateTicket.style.display="none",openCreateExecutor.style.display="none",openSelectExecutor.style.display="none",document.querySelector(".estimated").style.display="none",document.querySelector(".deadline").style.display="none",selectExecutor.style.display="none";break;case d[1]:openCreateExecutor.style.display="none",openEditTicket.style.display="none",openSelectExecutor.style.display="none",document.querySelector(".estimated").style.display="none",document.querySelector(".deadline").style.display="none",selectExecutor.style.display="none"}i(),document.querySelector(".authorization").style.display="none",document.querySelector(".list-tickets").style.display="block"}}function i(){var e=document.querySelector("input[name = 'username']"),t=a(e.value),n=a("usersList"),r=document.querySelectorAll(".list-tickets tr");document.querySelector("div.message")&&(document.querySelector("div.message").innerHTML="");for(var i=1;i<r.length;i++)r[i].innerHTML="";if(t.ticketsId.length)for(i=0;i<t.ticketsId.length;i++){var l=a(t.ticketsId[i]);o(l)}else{var s=document.querySelector(".list-tickets"),d=document.createElement("div");d.innerHTML="Нет заявок",d.className="message",s.appendChild(d)}for(document.querySelector("select[name='executors']").innerHTML="",document.querySelector("select[name='client']").innerHTML="",i=1;i<n.length;i++)c(n[i])}function o(e){for(var t=document.querySelector("table"),n=document.createElement("tr"),r=[],i=0;9>i;i++)r.push(document.createElement("td")),n.appendChild(r[i]);r[0].innerHTML=e.clientId,r[1].innerHTML=e.executorId,r[2].innerHTML=e.description,r[3].innerHTML=e.priority,r[4].innerHTML=e.estimated,r[5].innerHTML=e.deadline,r[6].innerHTML=e.percentReady,r[7].innerHTML=e.id,r[8].innerHTML=e.status,r[7].style.display="none",n.addEventListener("click",l),t.appendChild(n)}function c(e){var t=document.createElement("option");t.value=e,t.innerHTML=e,document.querySelector("select[name='executors']").appendChild(t);var n=t.cloneNode(!0);document.querySelector("select[name='client']").appendChild(n)}function l(){document.querySelector(".list-tickets").style.display="none",document.querySelector(".detail-ticket").style.display="block";var e=(document.querySelectorAll("table")[1],a(this.children[7].innerHTML)),t=this.cloneNode(!0),n=e.commentId;document.querySelector(".elem").innerHTML=t.innerHTML,document.querySelector(".detail-ticket h2 span").innerHTML=e.id,document.querySelectorAll(".comments")[1].innerHTML="",null==n[0]&&n.shift();for(var r=0;r<n.length;r++){var i=a(n[r]);s(i)}}function s(e){var t=document.createElement("div"),n=document.createElement("h3"),r=document.createElement("div");t.appendChild(n),t.appendChild(r),t.className="comment",n.innerHTML=e.userId,r.innerHTML=e.text,document.querySelectorAll(".comments")[1].appendChild(t)}n(1);var d=(n(5).User,n(5).roles),a=(n(5).statuses,n(5).priorities,n(5).usersList,n(5).Comment,n(5).Ticket,n(5).saveObject,n(5).saveUser,n(5).getObject);n(5).Admin;n(6),n(7),n(8),entry.addEventListener("click",r)},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.id,r,""]]);n(4)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".comment,.detail-ticket,.list-tickets,form{margin:10px auto;padding:20px;width:500px;border-radius:10px;box-shadow:0 0 10px #ccc}form[name=authorization]{margin-top:200px}.comment{margin:10px auto}.new-comment{margin-top:10px}.detail-ticket,.list-tickets{width:95%;margin:10px auto;min-height:200px}h2{text-align:center;margin:0 0 10px}label{display:block;margin-bottom:5px}input[type=date],input[type=number],input[type=text],select{margin-bottom:10px;padding:2px 5px;width:95%;height:24px;border:1px solid #ccc;border-radius:5px}textarea{width:95%;padding:5px;margin-bottom:10px}input[type=submit]{display:inline-block;margin:0;padding:6px 15px;width:auto;border:none;border-radius:5px;background:#2c3e50;color:#fff}.half-width{display:inline-block;margin-right:-4px;width:50%}.half-width input,.half-width select{width:80%}.detail-ticket,.edit-ticket,.list-tickets,.new-comment,.new-ticket,.registration,.registration-executor,.select-executor{display:none}.list-tickets{margin:20px auto;width:90%}table{width:100%;border-collapse:collapse;margin-bottom:20px}table td,table th,table tr{border:1px solid;padding:5px}table th{background:#2c3e50;color:#fff}.message{width:100%;text-align:center}#addTicket,#openCreateComment{margin:10px 43%}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var c=t[i];"number"==typeof c[0]&&r[c[0]]||(n&&!c[2]?c[2]=n:n&&(c[2]="("+c[2]+") and ("+n+")"),e.push(c))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(d(r.parts[o],t))}else{for(var c=[],o=0;o<r.parts.length;o++)c.push(d(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:c}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],c=i[1],l=i[2],s=i[3],d={css:c,media:l,sourceMap:s};n[o]?n[o].parts.push(d):t.push(n[o]={id:o,parts:[d]})}return t}function o(e,t){var n=f(),r=S[S.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),S.push(t);else{if("bottom"!==e.insertAt)throw Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function c(e){e.parentNode.removeChild(e);var t=S.indexOf(e);t>=0&&S.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function d(e,t){var n,r,i;if(t.singleton){var o=L++;n=v||(v=l(t)),r=a.bind(null,n,o,!1),i=a.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=m.bind(null,n),i=function(){c(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),r=u.bind(null,n),i=function(){c(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function a(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=k(t,i);else{var o=document.createTextNode(i),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(o,c[t]):e.appendChild(o)}}function u(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function m(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=y(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=y(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,L=0,S=[];e.exports=function(e,t){t=t||{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var o=[],c=0;c<n.length;c++){var l=n[c],s=p[l.id];s.refs--,o.push(s)}if(e){var d=i(e);r(d,t)}for(var c=0;c<o.length;c++){var s=o[c];if(0===s.refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete p[s.id]}}}};var k=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){function n(e){var t=[];this.id=e,this.login=e,this.ticketsId=[],this.role=o[0],this.addTicketsId=function(e){t.push(e),this.ticketsId=t}}function r(e){this.id=e,this.userId=void 0,this.ticketId=void 0,this.text="Текст коммантария"}function i(e){var t=[];this.id=e,this.executorId="Не назначен",this.clientId=void 0,this.status=c[0],this.description="Описание",this.priority=l[1],this.estimated=0,this.deadline=void 0,this.percentReady=0,this.addCommentId=function(e){t.push(e),this.commentId=t}}var o=["Admin","Client","Executor"],c=["Open","Closed"],l=["Low","Medium","High"],s=["Admin"];if("undefined"!=typeof Storage){var d=function(e){var t=JSON.stringify(e);localStorage.setItem(e.id,t)},a=function(e){var t=JSON.stringify(e);localStorage.setItem("usersList",t)},u=function(e){if(e in localStorage){var t=JSON.parse(localStorage.getItem(e));return t}return null},m=new n("Admin");m.id in localStorage||(d(m),a(s))}else alert("Sorry! No Web Storage support..");e.exports.saveObject=d,e.exports.saveUser=a,e.exports.getObject=u,e.exports.Admin=m,e.exports.User=n,e.exports.roles=o,e.exports.statuses=c,e.exports.priorities=l,e.exports.usersList=s,e.exports.Comment=r,e.exports.Ticket=i},function(e,t,n){function r(){document.querySelector(".list-tickets").style.display="none",document.querySelector(".registration-executor").style.display="block"}function i(){var e=new m(document.forms[6].newExecutor.value),t=f("usersList");e.role=p[2],t.push(e.id),y(e),h(t),l(),document.querySelector(".registration-executor").style.display="none",document.querySelector(".list-tickets").style.display="block"}function o(){document.querySelector(".authorization").style.display="none",document.querySelector(".registration").style.display="block"}function c(){var e=new m(document.forms[5].newClient.value),t=f("usersList");e.role=p[1],t.push(e.id),y(e),h(t),document.querySelector(".registration").style.display="none",document.querySelector(".authorization").style.display="block"}function l(){var e=document.querySelector("input[name = 'username']"),t=f(e.value),n=f("usersList"),r=document.querySelectorAll(".list-tickets tr");document.querySelector("div.message")&&(document.querySelector("div.message").innerHTML="");for(var i=1;i<r.length;i++)r[i].innerHTML="";if(t.ticketsId.length)for(i=0;i<t.ticketsId.length;i++){var o=f(t.ticketsId[i]);s(o)}else{var c=document.querySelector(".list-tickets"),l=document.createElement("div");l.innerHTML="Нет заявок",l.className="message",c.appendChild(l)}for(document.querySelector("select[name='executors']").innerHTML="",document.querySelector("select[name='client']").innerHTML="",i=1;i<n.length;i++)d(n[i])}function s(e){for(var t=document.querySelector("table"),n=document.createElement("tr"),r=[],i=0;9>i;i++)r.push(document.createElement("td")),n.appendChild(r[i]);r[0].innerHTML=e.clientId,r[1].innerHTML=e.executorId,r[2].innerHTML=e.description,r[3].innerHTML=e.priority,r[4].innerHTML=e.estimated,r[5].innerHTML=e.deadline,r[6].innerHTML=e.percentReady,r[7].innerHTML=e.id,r[8].innerHTML=e.status,r[7].style.display="none",n.addEventListener("click",a),t.appendChild(n)}function d(e){var t=document.createElement("option");t.value=e,t.innerHTML=e,document.querySelector("select[name='executors']").appendChild(t);var n=t.cloneNode(!0);document.querySelector("select[name='client']").appendChild(n)}function a(){var e=(document.querySelectorAll("table")[1],f(this.children[7].innerHTML)),t=this.cloneNode(!0),n=e.commentId;document.querySelector(".elem").innerHTML=t.innerHTML,document.querySelector(".detail-ticket h2 span").innerHTML=e.id,document.querySelectorAll(".comments")[1].innerHTML="",null==n[0]&&n.shift();for(var r=0;r<n.length;r++){var i=f(n[r]);u(i)}document.querySelector(".list-tickets").style.display="none",document.querySelector(".detail-ticket").style.display="block"}function u(e){var t=document.createElement("div"),n=document.createElement("h3"),r=document.createElement("div");t.appendChild(n),t.appendChild(r),t.className="comment",n.innerHTML=e.userId,r.innerHTML=e.text,document.querySelectorAll(".comments")[1].appendChild(t)}var m=n(5).User,p=n(5).roles,y=(n(5).statuses,n(5).priorities,n(5).usersList,n(5).Comment,n(5).Ticket,n(5).saveObject),h=n(5).saveUser,f=n(5).getObject;n(5).Admin;openCreateExecutor.addEventListener("click",r),addExecutor.addEventListener("click",i),openRegistration.addEventListener("click",o),addClient.addEventListener("click",c)},function(e,t,n){function r(e){var t=document.createElement("div"),n=document.createElement("h3"),r=document.createElement("div");t.appendChild(n),t.appendChild(r),t.className="comment",n.innerHTML=e.userId,r.innerHTML=e.text,document.querySelectorAll(".comments")[1].appendChild(t)}function i(){openCreateComment.style.display="none",document.querySelector(".new-comment").style.display="block"}function o(){var e=document.querySelector("input[name = 'username']"),t=m(e.value),n=new a(Math.random());n.userId=t.id,n.ticketId=document.querySelector(".detail-ticket h2 span").innerHTML,n.text=this.form.comment.value;var i=m(n.ticketId);null==i.commentId[0]?(i.commentId.shift(),i.commentId.push(n.id)):i.commentId.push(n.id),u(i),u(n),r(n),document.querySelector(".new-comment").style.display="none",openCreateComment.style.display="block",c()}function c(){var e=document.querySelector("input[name = 'username']"),t=m(e.value),n=m("usersList"),r=document.querySelectorAll(".list-tickets tr");document.querySelector("div.message")&&(document.querySelector("div.message").innerHTML="");for(var i=1;i<r.length;i++)r[i].innerHTML="";if(t.ticketsId.length)for(i=0;i<t.ticketsId.length;i++){var o=m(t.ticketsId[i]);l(o)}else{var c=document.querySelector(".list-tickets"),d=document.createElement("div");d.innerHTML="Нет заявок",d.className="message",c.appendChild(d)}for(document.querySelector("select[name='executors']").innerHTML="",document.querySelector("select[name='client']").innerHTML="",i=1;i<n.length;i++)s(n[i])}function l(e){for(var t=document.querySelector("table"),n=document.createElement("tr"),r=[],i=0;9>i;i++)r.push(document.createElement("td")),n.appendChild(r[i]);r[0].innerHTML=e.clientId,r[1].innerHTML=e.executorId,r[2].innerHTML=e.description,r[3].innerHTML=e.priority,r[4].innerHTML=e.estimated,r[5].innerHTML=e.deadline,r[6].innerHTML=e.percentReady,r[7].innerHTML=e.id,r[8].innerHTML=e.status,r[7].style.display="none",n.addEventListener("click",d),t.appendChild(n)}function s(e){var t=document.createElement("option");t.value=e,t.innerHTML=e,document.querySelector("select[name='executors']").appendChild(t);var n=t.cloneNode(!0);document.querySelector("select[name='client']").appendChild(n)}function d(){var e=(document.querySelectorAll("table")[1],m(this.children[7].innerHTML)),t=this.cloneNode(!0),n=e.commentId;document.querySelector(".elem").innerHTML=t.innerHTML,document.querySelector(".detail-ticket h2 span").innerHTML=e.id,document.querySelectorAll(".comments")[1].innerHTML="",null==n[0]&&n.shift();for(var i=0;i<n.length;i++){var o=m(n[i]);r(o)}document.querySelector(".list-tickets").style.display="none",document.querySelector(".detail-ticket").style.display="block"}var a=(n(5).User,n(5).roles,n(5).statuses,n(5).priorities,n(5).usersList,n(5).Comment),u=(n(5).Ticket,n(5).saveObject),m=(n(5).saveUser,n(5).getObject);n(5).Admin;openCreateComment.addEventListener("click",i),addComment.addEventListener("click",o)},function(e,t,n){function r(){document.querySelector(".list-tickets").style.display="none",document.querySelector(".new-ticket").style.display="block"}function i(){var e=new y(Math.random()),t=f(this.form.client.value),n=f("Admin");e.clientId=this.form.client.value,e.description=this.form.details.value,e.estimated=this.form.estimated.value,e.deadline=this.form.deadline.value,e.percentReady=this.form.percent.value,e.priority=this.form.priority.value,e.status=this.form.status.value,e.addCommentId(),n.ticketsId.push(e.id),t.ticketsId.push(e.id),h(t),h(n),h(e),d(),document.querySelector(".new-ticket").style.display="none",document.querySelector(".list-tickets").style.display="block"}function o(){document.forms[2].estimated.value=document.querySelector(".detail-ticket tr:nth-of-type(2) td:nth-of-type(5)").innerHTML,document.forms[2].deadline.value=document.querySelector(".detail-ticket tr:nth-of-type(2) td:nth-of-type(6)").innerHTML,document.forms[2].percent.value=document.querySelector(".detail-ticket tr:nth-of-type(2) td:nth-of-type(7)").innerHTML,document.forms[2].status.value="Open",document.querySelector(".detail-ticket").style.display="none",document.querySelector(".edit-ticket").style.display="block"}function c(){var e=document.querySelector(".detail-ticket h2 span").innerHTML,t=f(e);t.estimated=this.form.estimated.value,t.deadline=this.form.deadline.value,t.percentReady=this.form.percent.value,t.status=this.form.status.value,h(t),d(),document.querySelector(".edit-ticket").style.display="none",document.querySelector(".list-tickets").style.display="block"}function l(){document.querySelector(".detail-ticket").style.display="none",document.querySelector(".select-executor").style.display="block"}function s(){var e=document.querySelector(".detail-ticket h2 span").innerHTML,t=f(e),n=f(this.form.executors.value);t.executorId=this.form.executors.value,n.ticketsId.push(t.id),h(n),h(t),d(),document.querySelector(".select-executor").style.display="none",document.querySelector(".list-tickets").style.display="block"}function d(){var e=document.querySelector("input[name = 'username']"),t=f(e.value),n=f("usersList"),r=document.querySelectorAll(".list-tickets tr");document.querySelector("div.message")&&(document.querySelector("div.message").innerHTML="");for(var i=1;i<r.length;i++)r[i].innerHTML="";if(t.ticketsId.length)for(i=0;i<t.ticketsId.length;i++){var o=f(t.ticketsId[i]);u(o)}else{var c=document.querySelector(".list-tickets"),l=document.createElement("div");l.innerHTML="Нет заявок",l.className="message",c.appendChild(l)}for(document.querySelector("select[name='executors']").innerHTML="",document.querySelector("select[name='client']").innerHTML="",i=1;i<n.length;i++)m(n[i])}function a(e){var t=document.createElement("div"),n=document.createElement("h3"),r=document.createElement("div");t.appendChild(n),t.appendChild(r),t.className="comment",n.innerHTML=e.userId,r.innerHTML=e.text,document.querySelectorAll(".comments")[1].appendChild(t)}function u(e){for(var t=document.querySelector("table"),n=document.createElement("tr"),r=[],i=0;9>i;i++)r.push(document.createElement("td")),n.appendChild(r[i]);r[0].innerHTML=e.clientId,r[1].innerHTML=e.executorId,r[2].innerHTML=e.description,r[3].innerHTML=e.priority,r[4].innerHTML=e.estimated,r[5].innerHTML=e.deadline,r[6].innerHTML=e.percentReady,r[7].innerHTML=e.id,r[8].innerHTML=e.status,r[7].style.display="none",n.addEventListener("click",p),t.appendChild(n)}function m(e){var t=document.createElement("option");t.value=e,t.innerHTML=e,document.querySelector("select[name='executors']").appendChild(t);var n=t.cloneNode(!0);document.querySelector("select[name='client']").appendChild(n)}function p(){var e=(document.querySelectorAll("table")[1],f(this.children[7].innerHTML)),t=this.cloneNode(!0),n=e.commentId;document.querySelector(".elem").innerHTML=t.innerHTML,document.querySelector(".detail-ticket h2 span").innerHTML=e.id,document.querySelectorAll(".comments")[1].innerHTML="",null==n[0]&&n.shift();for(var r=0;r<n.length;r++){var i=f(n[r]);a(i)}document.querySelector(".list-tickets").style.display="none",document.querySelector(".detail-ticket").style.display="block"}var y=(n(5).User,n(5).roles,n(5).statuses,n(5).priorities,n(5).usersList,n(5).Comment,n(5).Ticket),h=n(5).saveObject,f=(n(5).saveUser,n(5).getObject);n(5).Admin;openCreateTicket.addEventListener("click",r),addTicket.addEventListener("click",i),openEditTicket.addEventListener("click",o),saveEdit.addEventListener("click",c),openSelectExecutor.addEventListener("click",l),selectExecutor.addEventListener("click",s)}]);